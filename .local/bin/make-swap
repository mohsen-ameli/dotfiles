#!/bin/sh
# taken from https://askubuntu.com/a/1177939
# To make changes persistent, add this line to the end of your /etc/fstab:
# /swapfile none swap sw 0 0

# Turn swap off
# This moves stuff in swap to the main memory and might take several minutes
sudo swapoff -a

# Create an empty swapfile
# Note that "1M" is basically just the unit and count is an integer.
# Together, they define the size. In this case 24GB.
sudo dd if=/dev/zero of=/swapfile bs=1M count=24000

# Set the correct permissions
sudo chmod 0600 /swapfile

sudo mkswap /swapfile  # Set up a Linux swap area
sudo swapon /swapfile  # Turn the swap on

# Check if it worked
grep Swap /proc/meminfo


